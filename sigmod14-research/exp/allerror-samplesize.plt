# SampleClean v.s. BiasCorrect for Aggregation Error = 5% and 50%
reset

set terminal postscript eps enhanced color font "Times-Roman, 16"
set output "allerror-samplesize.eps"

set size 1, 0.5
set multiplot layout 1, 2
set ylabel "Error Bound" font "Times-Roman, 20"
set xlabel "Cleaned Sample Size" offset 0, 0.2 font "Times-Roman, 20"

#set xtics scale 0.5
#set xtics font "Times-Roman, 20"
#set ytics scale 0.5
#set ytics font "Times-Roman, 20"
#set key font "Times-Roman, 22"
#set key spacing 0.7
#set key samplen 1

#set size 1,0.9
set nomxtics
set noxtics


set grid xtics ytics
set grid mxtics mytics
set pointsize 1


#set logscale y 10
#unset logscale y


set format y "%g%%"


set mxtics  2
set size 0.5, 0.5
set xrange [ 0 : 10000 ]
set yrange [ 0 : 60]
set key at graph 0.9, graph 0.6
set xtics 2000
set ytics 10 
set mytics 2
#set xtics ("0" 0, "1" 1,"2" 2,"3" 3,"4" 4,"5" 5,"6" 6,"7" 7,"8" 8,"9" 9) font ",20"
#set ytics ("0.1" 0.1,"1" 1,"10^1" 10,"10^2" 100,"10^3" 1000,"10^4" 10000,"10^5" 100000,"10^6" 1000000)  font ",20"
plot '-' title "SampleDirty" w lp pt 1 lw 2 lt 1 lc rgb "blue", '-' title "AllDirty" w lp pt 7 lw 2 lt 2 lc rgb "magenta", '-' title "SampleClean" w l lw 2 lt 1 lc rgb "red", '-' title "BiasCorrect" w l lw 2 lt 2 lc rgb "green"

500 49.98369419
1000    47.33259428
1500    46.11244274
2000    45.42345805
2500    44.95591216
3000    44.56514836
3500    44.27856334
4000    44.07010699
4500    43.87893626
5000    43.70473597
5500    43.57058219
6000    43.45098011
6500    43.34485276
7000    43.24933683
7500    43.15627268
8000    43.07571805
8500    42.99864153
9000    42.94106676
9500    42.88085723
10000   42.82775796
e   
500 40.7648991
1000    40.7648991
1500    40.7648991
2000    40.7648991
2500    40.7648991
3000    40.7648991
3500    40.7648991
4000    40.7648991
4500    40.7648991
5000    40.7648991
5500    40.7648991
6000    40.7648991
6500    40.7648991
7000    40.7648991
7500    40.7648991
8000    40.7648991
8500    40.7648991
9000    40.7648991
9500    40.7648991
10000   40.7648991
e   
500 7.008391451
1000    5.12145245
1500    4.143404424
2000    3.574819337
2500    3.205815231
3000    2.919567825
3500    2.689928228
4000    2.522689081
4500    2.391460231
5000    2.265633319
5500    2.156711634
6000    2.069150847
6500    1.988538452
7000    1.91314558
7500    1.847088386
8000    1.789176473
8500    1.733778131
9000    1.679046241
9500    1.62789937
10000   1.588960205
e   
500 15.62645276
1000    11.75298816
1500    9.576905941
2000    8.138820251
2500    7.316323386
3000    6.577538229
3500    6.051817487
4000    5.756395121
4500    5.373627289
5000    5.056090978
5500    4.828946214
6000    4.638870332
6500    4.482347579
7000    4.308285498
7500    4.137804542
8000    3.993823644
8500    3.849083398
9000    3.726195464
9500    3.621651538
10000   3.533413983
e   


set key at graph 0.9, graph 0.85
set size 0.5, 0.5
set xrange [ 0 : 10000 ]
set ytics 2
set mytics 2
set yrange [ 0 : 10]
#set xtics ("0" 0, "1" 1,"2" 2,"3" 3,"4" 4,"5" 5,"6" 6,"7" 7,"8" 8,"9" 9) font ",20"
#set ytics ("0.1" 0.1,"1" 1,"10^1" 10,"10^2" 100,"10^3" 1000,"10^4" 10000,"10^5" 100000,"10^6" 1000000)  font ",20"

plot '-' title "SampleDirty" w lp pt 1 lw 2 lt 1 lc rgb "blue", '-' title "AllDirty" w lp pt 7 lw 2 lt 2 lc rgb "magenta", '-' title "SampleClean" w l lw 2 lt 1 lc rgb "red", '-' title "BiasCorrect" w l lw 2 lt 2 lc rgb "green"

500 7.455082991
1000    6.172855465
1500    5.502034417
2000    5.078611234
2500    4.812598197
3000    4.626888127
3500    4.454424238
4000    4.323672547
4500    4.216781439
5000    4.129143828
5500    4.052348221
6000    3.982625901
6500    3.915934836
7000    3.856985481
7500    3.809739002
8000    3.7659893
8500    3.724943058
9000    3.685249219
9500    3.654090891
10000   3.622088157
e

500 2.42931749
1000    2.42931749
1500    2.42931749
2000    2.42931749
2500    2.42931749
3000    2.42931749
3500    2.42931749
4000    2.42931749
4500    2.42931749
5000    2.42931749
5500    2.42931749
6000    2.42931749
6500    2.42931749
7000    2.42931749
7500    2.42931749
8000    2.42931749
8500    2.42931749
9000    2.42931749
9500    2.42931749
10000   2.42931749
e

500 5.068598138
1000    3.688748007
1500    2.979813744
2000    2.587228175
2500    2.316881497
3000    2.11473657
3500    1.947828079
4000    1.822442306
4500    1.718761798
5000    1.631278444
5500    1.550170108
6000    1.486375065
6500    1.430852571
7000    1.373361901
7500    1.324879028
8000    1.280235981
8500    1.242292524
9000    1.203716996
9500    1.1718276
10000   1.140450024
e

500 2.176017093
1000    1.669133142
1500    1.360841999
2000    1.159771474
2500    1.074029339
3000    1.00860928
3500    0.95025524
4000    0.894091494
4500    0.850732725
5000    0.811393642
5500    0.791820756
6000    0.753935644
6500    0.71120175
7000    0.677822183
7500    0.663253767
8000    0.650028425
8500    0.625488699
9000    0.606522666
9500    0.601205457
10000   0.585806579
e


unset multiplot       
